<UserControl x:Class="GenFreeBrowser.Views.FamilyView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:ctrls="clr-namespace:GenFreeBrowser.Views.Controls"
             xmlns:m="clr-namespace:GenFreeBrowser.Views.Models"
             xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
             xmlns:b="clr-namespace:GenFreeBrowser.Views.Behaviors"
             mc:Ignorable="d"
             d:DesignHeight="600" d:DesignWidth="1200">
    <UserControl.Resources>
        <Style x:Key="CardHeader" TargetType="TextBlock">
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Foreground" Value="#FF2A2F36"/>
        </Style>
        <Style x:Key="Box" TargetType="Border">
            <Setter Property="Padding" Value="6"/>
            <Setter Property="Background" Value="#FFF8F9FB"/>
            <Setter Property="BorderBrush" Value="#FFCED4DA"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="6"/>
        </Style>
    </UserControl.Resources>

    <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto">
        <Grid>
            <Canvas x:Name="GraphCanvas" Margin="20" Background="Transparent">
                <i:Interaction.Behaviors>
                    <b:PanZoomBehavior MinScale="0.2" MaxScale="4" ZoomStep="0.15" CtrlWheelToZoom="True" />
                </i:Interaction.Behaviors>
                <ItemsControl x:Name="NodeItems" ItemsSource="{Binding Graph.Nodes}" Panel.ZIndex="10">
                    <ItemsControl.ItemsPanel>
                        <ItemsPanelTemplate>
                            <Canvas />
                        </ItemsPanelTemplate>
                    </ItemsControl.ItemsPanel>
                    <ItemsControl.ItemContainerStyle>
                        <Style TargetType="ContentPresenter">
                            <Setter Property="Canvas.Left" Value="{Binding X}"/>
                            <Setter Property="Canvas.Top" Value="{Binding Y}"/>
                        </Style>
                    </ItemsControl.ItemContainerStyle>
                    <ItemsControl.ItemTemplate>
                        <DataTemplate DataType="{x:Type m:FamilyNode}">
                            <ctrls:PersonCardControl DisplayName="{Binding DisplayName}" Subtitle="{Binding Subtitle}"/>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
            </Canvas>
        </Grid>
    </ScrollViewer>
</UserControl>
