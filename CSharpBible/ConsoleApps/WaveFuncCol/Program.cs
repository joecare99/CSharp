// ***********************************************************************
// Assembly         : Display_Test
// Author           : Mir
// Created          : 07-15-2022
//
// Last Modified By : Mir
// Last Modified On : 11-05-2022
// ***********************************************************************
// <copyright file="Program.cs" company="JC-Soft">
//     Copyright © 2022 by JC-Soft
// </copyright>
// <summary></summary>
// ***********************************************************************
using ConsoleDisplay.View;
using System;
using System.Threading;
using System.Xml.Schema;
using BaseLib.Models.Interfaces;
using Microsoft.Extensions.DependencyInjection;
using WaveFunCollapse.Views;
using BaseLib.Interfaces;
using WaveFunCollapse.Models.Interfaces;

/// <summary>
/// The Display_Test namespace.
/// </summary>
/// <autogeneratedoc />
namespace Display_Test
{
    /// <summary>
    /// Class Program.
    /// </summary>
    public static class Program 
    {

        /// <summary>
        /// Defines the entry point of the application.
        /// </summary>
        /// <param name="args">The arguments.</param>
        static public void Main(string[] args)
        {
            var v=Init(args);
            v.Show();
        }

        public static Func<string[], IView> Init = (args) =>
        {
            var sc = new ServiceCollection()
                .AddSingleton<IWFCModel, WaveFunCollapse.Models.WFCModel>()
                .AddSingleton<IRandom, BaseLib.Models.CRandom>()
                .AddSingleton<IConsole,MyConsole>()
                .AddTransient<IView, WaveFunColView>();

            var sp = sc.BuildServiceProvider();

            return sp.GetRequiredService<IView>();
        };
    }
}