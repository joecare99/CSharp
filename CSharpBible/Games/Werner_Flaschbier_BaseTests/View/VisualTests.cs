using Microsoft.VisualStudio.TestTools.UnitTesting;
using System.Threading;
using TestConsole;
using Werner_Flaschbier_Base.ViewModel;

namespace Werner_Flaschbier_Base.View.Tests
{
    /// <summary>
    /// Defines test class VisualTests.
    /// </summary>
    [TestClass()]
    public class VisualTests
    {
        private string cExpWriteTile = @"\c00    \x00\x00\x00\x00\x00\x00\x00\x00\c4F─┴┬─\c00\x00\x00\x00\x00\x00\x00\x00\x00\c6F⌐°@)\c00\x00\x00\x00\x00\x00\x00\x00\x00\c1A]\cA0°°\c1A[\c00
    \x00\x00\c6E=-=-\c00\x00\x00\c4F─┬┴─\c00\x00\x00\c0E ╓╖ \c00\x00\x00\c6F ⌡⌡‼\c00\x00\x00\c6E/¯¯\\\c00\x00\x00\c1A_\cA0!!\c1A_\c00\x00\x00\c1A◄\cA0°@\c1A[\c00
\c1A]\cA0oo\c1A[\c00\x00\x00\c6E-=-=\c00\x00\x00\c6E/╨╨\\\c00\x00\x00\c2A▓\c22░\c02▒\c22▓\c00\x00\x00\c6E    \c00\x00\x00\c6E\\__/\c00\x00\x00\c4F┬┴┬─\c00\x00\x00\c1A_\cA0!!\c1A\\\c00
\c1A_\cA0!!\c1A_\c00\x00\x00\c1A]\cA0@°\c1A►\c00\x00\x00\c6E\\__/\c00\x00\x00\c6F +*∩\c00\x00\x00\c6E    \c00\x00\x00\c4F─┴┬┴\c00\x00\x00\c4F┴┬┴─\c00\x00\x00\c4F┬┴┬┴\c00
\c4F┬┴┬─\c00\x00\x00\c1A/\cA0!!\c1A_\c00\x00\x00\c4F┬┴┬─\c00\x00\x00\c6F╘═◊@\c00\x00\x00\c4F─┴┬─\c00\x00\x00\c4F─┬┴─\c00\x00\x00\c4F┬┴┬─\c00\x00\x00\c4F┴┬┴─\c00
\c4F┴┬┴┬\c00\x00\x00\c4F┬┴┬┴\c00\x00\x00\c4F┴┬┴┬\c00\x00\x00\c4F┬┴┬┴\c00\x00\x00\c4F─┬┴─\c00\x00\x00\c4F─┴┬┴\c00\x00\x00\c4F┴┬┴─\c00\x00\x00\c4F┬┴┬┴\c00
\c4F┬┴┬─\c00\x00\x00\c4F┴┬┴┬\c00\x00\x00\c4F┬┴┬─\c00\x00\x00\c4F┴┬┴┬\c00\x00\x00\x00\x00\x00\x00\x00\x00\c4F─┬┴─\c00\x00\x00\x00\x00\x00\x00\x00\x00\c4F┴┬┴─\c00
\c4F┴┬┴┬\c00\x00\x00\c4F┬┴┬┴\c00\x00\x00\c4F┴┬┴┬\c00\x00\x00\c4F┬┴┬┴\c00
\x00\x00\x00\x00\x00\x00\c4F┴┬┴┬\c00\x00\x00\x00\x00\x00\x00\x00\x00\c4F┴┬┴┬\c00";
        private string cExpFullRedraw1= @"\c4F┬┴┬─┬┴┬─┬┴┬─┬┴┬─┬┴┬─┬┴┬─┬┴┬─┬┴┬─┬┴┬─┬┴┬─┬┴┬─┬┴┬─┬┴┬─┬┴┬─┬┴┬─┬┴┬─┬┴┬─┬┴┬─┬┴┬─┬┴┬─
┴┬┴┬┴┬┴─┴┬┴─┴┬┴─┴┬┴─┴┬┴─┴┬┴─┴┬┴─┴┬┴─┴┬┴┬┴┬┴─┴┬┴─┴┬┴─┴┬┴─┴┬┴─┴┬┴─┴┬┴─┴┬┴─┴┬┴─┴┬┴┬
┬┴┬┴\c6E=-=-=-=-=-=-=-=-=-=-=-=-=-=-/¯¯\\\c4F┬┴┬┴\c6E/¯¯\\/¯¯\\=-=-=-=-=-=-=-=-=-=-=-=-/¯¯\\\c4F┬┴┬┴
┴┬┴┬\c6E-=-=-=-=-=-=-=-=-=-=-=-=-=-=\\__/\c4F┴┬┴┬\c6E\\__/\\__/-=-=-=-=-=-=-=-=-=-=-=-=\\__/\c4F┴┬┴┬
┬┴┬┴\c6E=-=-=-=-=-=-/¯¯\\=-=-=-=-=-=-/¯¯\\\c4F┬┴┬┴\c6E/¯¯\\/¯¯\\=-=-\c4F─┴┬─┬┴┬─┬┴┬─┬┴┬─\c6E=-=-=-=-\c4F┬┴┬┴
┴┬┴┬\c6E-=-=-=-=-=-=\\__/-=-=-=-=-=-=\\__/\c4F┴┬┴┬\c6E\\__/\\__/-=-=\c4F─┬┴─┴┬┴─┴┬┴─┴┬┴┬\c6E-=-=-=-=\c4F┴┬┴┬
┬┴┬┴\c6E=-=-/¯¯\\/¯¯\\/¯¯\\/¯¯\\/¯¯\\\c4F─┴┬─\c6E/¯¯\\\c4F─┴┬┴┬┴┬─\c6E/¯¯\\/¯¯\\=-=-=-=-=-=-\c4F┬┴┬┴\c6E/¯¯\\=-=-\c4F┬┴┬┴
┴┬┴┬\c6E-=-=\\__/\\__/\\__/\\__/\\__/\c4F─┬┴─\c6E\\__/\c4F─┬┴─┴┬┴─\c6E\\__/\\__/-=-=-=-=-=-=\c4F┴┬┴┬\c6E\\__/-=-=\c4F┴┬┴┬
┬┴┬┴┬┴┬─┬┴┬─┬┴┬─\c6E=-=-\c4F─┴┬─\c6E=-=-=-=-/¯¯\\=-=-=-=-=-=-/¯¯\\\c4F─┴┬─┬┴┬─\c6E=-=-\c4F┬┴┬┴\c6E=-=-=-=-\c4F┬┴┬┴
┴┬┴┬┴┬┴─┴┬┴─┴┬┴─\c6E-=-=\c4F─┬┴─\c6E-=-=-=-=\\__/-=-=-=-=-=-=\\__/\c4F─┬┴─┴┬┴┬\c6E-=-=\c4F┴┬┴┬\c6E-=-=-=-=\c4F┴┬┴┬
┬┴┬┴\c6E=-=-=-=-=-=-/¯¯\\=-=-=-=-=-=-/¯¯\\\c4F─┴┬─┬┴┬─\c6E=-=-/¯¯\\/¯¯\\\c4F─┴┬┴\c6E=-=-\c4F┬┴┬┴\c6E=-=-/¯¯\\\c4F┬┴┬┴
┴┬┴┬\c6E-=-=-=-=-=-=\\__/-=-=-=-=-=-=\\__/\c4F─┬┴─┴┬┴┬\c6E-=-=\\__/\\__/\c4F─┬┴─\c6E-=-=\c4F┴┬┴┬\c6E-=-=\\__/\c4F┴┬┴┬
┬┴┬┴\c6E=-=-/¯¯\\/¯¯\\/¯¯\\/¯¯\\/¯¯\\=-=-\c4F─┴┬─\c0E ╓╖ \c4F┬┴┬┴\c6E=-=-=-=-=-=-=-=-=-=-\c4F┬┴┬┴\c6E=-=-=-=-\c4F┬┴┬┴
┴┬┴┬\c6E-=-=\\__/\\__/\\__/\\__/\\__/-=-=\c4F─┬┴─\c2A▓\c22░\c02▒\c22▓\c4F┴┬┴┬\c6E-=-=-=-=-=-=-=-=-=-=\c4F┴┬┴┬\c6E-=-=-=-=\c4F┴┬┴┬
┬┴┬┴┬┴┬─┬┴┬─┬┴┬─\c6E=-=-\c4F─┴┬─\c6E=-=-\c00    \c6E=-=-/¯¯\\\c4F┬┴┬┴┬┴┬─┬┴┬─┬┴┬─┬┴┬─┬┴┬─┬┴┬┴\c6E/¯¯\\=-=-\c4F┬┴┬┴
┴┬┴┬┴┬┴─┴┬┴─┴┬┴─\c6E-=-=\c4F─┬┴─\c6E-=-=\c00    \c6E-=-=\\__/\c4F┴┬┴┬┴┬┴─┴┬┴─┴┬┴─┴┬┴─┴┬┴─┴┬┴─\c6E\\__/-=-=\c4F┴┬┴┬
┬┴┬┴\c6E=-=-=-=-=-=-=-=-=-=-\c4F┬┴┬─┬┴┬─┬┴┬─\c6E/¯¯\\\c4F─┴┬┴\c6E/¯¯\\=-=-=-=-=-=-=-=-=-=-=-=-=-=-\c4F┬┴┬┴
┴┬┴┬\c6E-=-=-=-=-=-=-=-=-=-=\c4F┴┬┴┬┴┬┴─┴┬┴─\c6E\\__/\c4F─┬┴─\c6E\\__/-=-=-=-=-=-=-=-=-=-=-=-=-=-=\c4F┴┬┴┬
┬┴┬┴\c6F⌐°@)\c6E=-=-=-=-=-=-=-=-\c4F┬┴┬┴\c6E=-=-=-=-/¯¯\\=-=-=-=-=-=-/¯¯\\/¯¯\\/¯¯\\/¯¯\\/¯¯\\=-=-\c4F┬┴┬┴
┴┬┴┬\c6F ⌡⌡‼\c6E-=-=-=-=-=-=-=-=\c4F┴┬┴┬\c6E-=-=-=-=\\__/-=-=-=-=-=-=\\__/\\__/\\__/\\__/\\__/-=-=\c4F┴┬┴┬
┬┴┬┴\c6E=-=-=-=-=-=-=-=-=-=-\c4F┬┴┬┴\c6E=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-\c4F┬┴┬┴
┴┬┴┬\c6E-=-=-=-=-=-=-=-=-=-=\c4F┴┬┴┬\c6E-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=\c4F┴┬┴┬
┬┴┬┴┬┴┬─┬┴┬─┬┴┬─┬┴┬─┬┴┬─┬┴┬┴┬┴┬─┬┴┬─┬┴┬─┬┴┬─┬┴┬─┬┴┬─┬┴┬─┬┴┬─┬┴┬─┬┴┬─┬┴┬─┬┴┬─┬┴┬┴
┴┬┴─┴┬┴─┴┬┴─┴┬┴─┴┬┴─┴┬┴─┴┬┴─┴┬┴─┴┬┴─┴┬┴─┴┬┴─┴┬┴─┴┬┴─┴┬┴─┴┬┴─┴┬┴─┴┬┴─┴┬┴─┴┬┴─┴┬┴─
\c0E\t1\t\t0\t\t10/10\t\t99\t\c00";
        private string cExpFullRedraw2 = @"\c4F┬┴┬─┬┴┬─┬┴┬─┬┴┬─┬┴┬─┬┴┬─┬┴┬─┬┴┬─┬┴┬─┬┴┬─┬┴┬─┬┴┬─┬┴┬─┬┴┬─┬┴┬─┬┴┬─┬┴┬─┬┴┬─┬┴┬─┬┴┬─
┴┬┴┬┴┬┴─┴┬┴─┴┬┴─┴┬┴─┴┬┴┬┴┬┴┬┴┬┴─┴┬┴─┴┬┴─┴┬┴─┴┬┴─┴┬┴─┴┬┴─┴┬┴─┴┬┴─┴┬┴─┴┬┴─┴┬┴─┴┬┴┬
┬┴┬┴\c0E ╓╖ \c00            \c4F┬┴┬┴┬┴┬┴\c6E=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-\c4F┬┴┬┴
┴┬┴┬\c2A▓\c22░\c02▒\c22▓\c00            \c4F┴┬┴┬┴┬┴┬\c6E-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=\c4F┴┬┴┬
┬┴┬┴\c1A]\cA0°°\c1A[\c00            \c4F─┴┬┴┬┴┬┴\c6E=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-\c4F┬┴┬┴
┴┬┴┬\c1A_\cA0!!\c1A_\c00            \c4F─┬┴─┴┬┴┬\c6E-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=\c4F┴┬┴┬
┬┴┬┴┬┴┬─\c6E=-=-=-=-=-=-=-=-\c4F┬┴┬┴\c6E=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-\c4F┬┴┬┴
┴┬┴┬┴┬┴─\c6E-=-=-=-=-=-=-=-=\c4F┴┬┴┬\c6E-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=\c4F┴┬┴┬
┬┴┬┴\c00                \c4F┬┴┬─┬┴┬┴\c6E=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-\c4F┬┴┬┴
┴┬┴┬\c00                \c4F┴┬┴┬┴┬┴┬\c6E-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=\c4F┴┬┴┬
┬┴┬┴\c1A]\cA0°°\c1A[\c00            \c4F─┴┬┴┬┴┬┴\c6E=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-\c4F┬┴┬┴
┴┬┴┬\c1A_\cA0!!\c1A_\c00            \c4F─┬┴─┴┬┴┬\c6E-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=\c4F┴┬┴┬
┬┴┬┴┬┴┬─\c6E=-=-=-=-=-=-=-=-\c4F┬┴┬┴\c6E=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-\c4F┬┴┬┴
┴┬┴┬┴┬┴─\c6E-=-=-=-=-=-=-=-=\c4F┴┬┴┬\c6E-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=\c4F┴┬┴┬
┬┴┬┴\c00                    \c4F┬┴┬┴\c6E=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-\c4F┬┴┬┴
┴┬┴┬\c00                    \c4F┴┬┴┬\c6E-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=\c4F┴┬┴┬
┬┴┬┴\c1A]\cA0°°\c1A[\c00                \c4F┬┴┬┴\c6E=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-\c4F┬┴┬┴
┴┬┴┬\c1A_\cA0!!\c1A_\c00                \c4F┴┬┴┬\c6E-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=\c4F┴┬┴┬
┬┴┬┴\c6E=-=-=-=-=-=-=-=-=-=-\c4F─┴┬┴\c6E=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-\c4F┬┴┬┴
┴┬┴┬\c6E-=-=-=-=-=-=-=-=-=-=\c4F─┬┴─\c6E-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=\c4F┴┬┴┬
┬┴┬┴\c6F⌐°@)\c00            \c6E=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-\c4F┬┴┬┴
┴┬┴┬\c6F ⌡⌡‼\c00            \c6E-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=\c4F┴┬┴┬
┬┴┬┴┬┴┬─┬┴┬─┬┴┬─┬┴┬─┬┴┬─┬┴┬─┬┴┬─┬┴┬─┬┴┬─┬┴┬─┬┴┬─┬┴┬─┬┴┬─┬┴┬─┬┴┬─┬┴┬─┬┴┬─┬┴┬─┬┴┬┴
┴┬┴─┴┬┴─┴┬┴─┴┬┴─┴┬┴─┴┬┴─┴┬┴─┴┬┴─┴┬┴─┴┬┴─┴┬┴─┴┬┴─┴┬┴─┴┬┴─┴┬┴─┴┬┴─┴┬┴─┴┬┴─┴┬┴─┴┬┴─
\c0E\t2\t\t0\t\t10/10\t\t99\t\c00";

        TstConsole? _testConsole;

        /// <summary>
        /// Initializes this instance.
        /// </summary>
        [TestInitialize]
        public void Init()
        {
            _testConsole ??= new TstConsole();
            Visual.myConsole = _testConsole;
        }

        /// <summary>
        /// Defines the test method WriteTileTest.
        /// </summary>
        [TestMethod()]
        public void WriteTileTest()
        {
            _testConsole!.Clear();
            foreach (Tiles tile in typeof(Tiles).GetEnumValues())
            {
                Visual.WriteTile(new System.Drawing.PointF((((int)tile) % 8) * 1.5f, (((int)tile) % 2) * 0.5f + (((int)tile) / 8)), tile);
                Thread.Sleep(0);
            }
            Assert.AreEqual(cExpWriteTile, _testConsole.Content);
            Thread.Sleep(500);
        }

        /// <summary>
        /// Defines the test method FullRedrawTest.
        /// </summary>
        [TestMethod()]
        public void FullRedrawTest()
        {
            _testConsole!.Clear();
            Game g;
            Visual.SetGame(g=new Game());
            Thread.Sleep(500);
            Assert.AreEqual(cExpFullRedraw1, _testConsole.Content);
            g.Setup(1);
            Visual.FullRedraw();
            Thread.Sleep(500);
            Assert.AreEqual(cExpFullRedraw2, _testConsole.Content);
        }
    }
}